# pentest
script tools to perform pentests on application resilience, via certain endpoints of an application
    Tujuan script ini dibuat agar bisa mengukur batas kapasitas maksimal yang bisa di-hit dan rata-rata normal hit dalam 1 detik. Kita akan menggunakan alat ab (Apache Benchmark) untuk melakukan pengujian ini, karena lebih cocok untuk mengukur performa server dibandingkan dengan curl.

#######################
#### STEP INTALASI ####
#######################

clone github ini: https://github.com/riper33/pentest.git

kemudian setelah di clone lakukan hal berikut:

Instalasi Apache Benchmark (ab)
Jika Anda belum menginstal ab, Anda bisa menginstalnya dengan perintah berikut:

1. Untuk Debian|Ubuntu: sudo apt-get install apache2-utils
2. Untuk CentOS|RHEL: sudo yum install httpd-tools
3. Berikan izin eksekusi pada file tersebut dengan perintah: chmod +x test-brute.sh.
4. Jalankan skrip dengan perintah: .|test-brute.sh.

########################
### PENJELASAN SKRIP ###
########################

Penjelasan Skrip:
1. Fungsi perform_benchmark: Melakukan pengujian beban menggunakan Apache Benchmark (ab) dan menampilkan hasilnya.
2. Fungsi collect_pod_metrics: Mengumpulkan metrik penggunaan sumber daya (CPU dan memori) dari pod Kubernetes menggunakan kubectl top pod dan menyimpannya ke file pod_metrics.txt.
3. Fungsi analyze_and_recommend: Membaca metrik dari file pod_metrics.txt, menganalisis penggunaan sumber daya, dan memberikan rekomendasi peningkatan berdasarkan ambang batas yang     ditentukan.
Alur Skrip:
1. Melakukan pengujian beban.
2. Mengumpulkan metrik penggunaan sumber daya dari pod.
3. Menganalisis metrik dan memberikan rekomendasi peningkatan.

Contoh Output dan Rekomendasi:
Misalkan output dari kubectl top pod adalah sebagai berikut:

![alt text](image-1.png)

||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
Output skrip akan menjadi:

![alt text](image.png)

|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||
|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||

Catatan Penting:
1. Ambang batas CPU dan Memori: Dalam skrip ini, ambang batas untuk CPU dan memori masing-masing ditetapkan pada 500 mCPU dan 500 Mi. Anda dapat menyesuaikannya berdasarkan kebutuhan dan kapasitas sistem Anda.
2. Konfigurasi Kubernetes: Pastikan kubectl terkonfigurasi dengan benar untuk berinteraksi dengan kluster Kubernetes Anda.
3. Pengujian Produksi: Hindari menjalankan pengujian beban yang berat di lingkungan produksi kecuali Anda yakin ini tidak akan mengganggu layanan.
@riper33
